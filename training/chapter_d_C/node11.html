<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2012 (1.2)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>One to All</TITLE>
<META NAME="description" CONTENT="One to All">
<META NAME="keywords" CONTENT="chapter_d_C">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2012">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="chapter_d_C.css">

<LINK REL="next" HREF="node12.html">
<LINK REL="previous" HREF="node10.html">
<LINK REL="up" HREF="node10.html">
<LINK REL="next" HREF="node12.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html171"
  HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html169"
  HREF="node10.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html163"
  HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html172"
  HREF="node12.html">All to one</A>
<B> Up:</B> <A NAME="tex2html170"
  HREF="node10.html">Collective Communications</A>
<B> Previous:</B> <A NAME="tex2html164"
  HREF="node10.html">Collective Communications</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00131000000000000000"></A>
<A NAME="subsection:bcast"></A>
<BR>
One to All
</H2>
To send messages from one process to all other processes MPI contains the
function MPI_Bcast. <A NAME="79"></A> The format for MPI_Bcast is

<P>
<PRE>
int MPI_Bcast ( void *buffer, int count, 
			   MPI_Datatype datatype, 
			   int root,MPI_Comm comm )
</PRE>

<P>
There are several differences between MPI_Bcast and the point-to-point 
communications that we have looked at in the previous sections.  First both
the sender and the receivers use the same function call. Root in the case of
MPI_Bcast is the rank of the process sending and it must be the same on all
processes or there will be an error.  

<P>
It is important to understand that although you can 
accomplish the same data transfer by using individual sends and receives, 
using MPI_Bcast is more efficient.  This is generally true of the collective
communications.  Let's take a brief look at why.  When you do individual sends 
and receives, at each iteration of the loop there is one message being send 
from the sending process to each of the receiving processes.  There are other
possible methods of getting the data to each process that are more efficient.
Let's assume for the sake of simplicity that the root process in our 
communication is process 0, and we have 8 nodes. In this case we could 
send the communications in the manner depicted in Figure <A HREF="#fig:bcast">5.1</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:bcast"></A><A NAME="85"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 5.1:</STRONG>
A more efficient communication scheme</CAPTION>
<TR><TD></TD></TR>
</TABLE>
</DIV>

<P>
Notice that this completes the communication in three timesteps instead of 
the eight needed by sending all messages from root.  This is not to say that
TCP/IP communications are this simple, or that there are not more efficient
schemes. The efficiency of such a scheme is dependent on the underlying 
network topology. Fortunately, we don't have to come up with an 
efficient scheme each
time we what to distribute data.  The implementations of MPI_Bcast handle the
details for us.  This is especially important when one considers portability
issues.  With out using the MPI built in routines, you would have to determine
the best scheme each time you wanted to run the program in a different 
environment, or even a different number of processors.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html171"
  HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html169"
  HREF="node10.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html163"
  HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html172"
  HREF="node12.html">All to one</A>
<B> Up:</B> <A NAME="tex2html170"
  HREF="node10.html">Collective Communications</A>
<B> Previous:</B> <A NAME="tex2html164"
  HREF="node10.html">Collective Communications</A>
<!--End of Navigation Panel-->
<ADDRESS>
root
2015-12-02
</ADDRESS>
</BODY>
</HTML>
