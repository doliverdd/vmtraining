<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2012 (1.2)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Compiling and running MPI programs</TITLE>
<META NAME="description" CONTENT="Compiling and running MPI programs">
<META NAME="keywords" CONTENT="chapter_FORTRAN_mpi">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2012">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="chapter_FORTRAN_mpi.css">

<LINK REL="next" HREF="node4.html">
<LINK REL="previous" HREF="node2.html">
<LINK REL="up" HREF="node2.html">
<LINK REL="next" HREF="node4.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html111"
  HREF="node4.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html109"
  HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html103"
  HREF="node2.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html112"
  HREF="node4.html">A note on output</A>
<B> Up:</B> <A NAME="tex2html110"
  HREF="node2.html">A first program</A>
<B> Previous:</B> <A NAME="tex2html104"
  HREF="node2.html">A first program</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00111000000000000000">
Compiling and running MPI programs</A>
</H2>
To compile MPI programs you must make sure that the
MPI_HOME/include directory is in your include path, and that the
MPI_HOME/lib directory is in your library path.  On the lab
machines this should be the default configuration. If these
requirements are met the program above can be compiled with the
command:
<PRE>
   g77 -L/usr/local/mpich/lib hello.o 
		 -ffree-form -o hello  -lmpich
</PRE>
On most installations of MPI there is some script to make sure
that you have include the correct libraries an paths.  For our
machines the command is <I>mpif77</I>.  So you can replace the above
command with:
<PRE>
   mpif77 -ffree-form -o HelloWorld HelloWorld.f
</PRE>

<P>
Once the program is compiled you can use the <I>mpirun</I> command
to run the program.  The following example should work on your lab
machine:
<PRE>
mpirun -np 4 -machinefile /usr/local/nodes HelloWorld
</PRE>

<P>
<BR><HR>
<ADDRESS>
root
2015-12-02
</ADDRESS>
</BODY>
</HTML>
